<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quotastic - Your Random Quote Generator</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="container" id="quote-container">
    <div id="quote" class="quote-text fade-in">"{{ quote }}"</div>
    <div id="author" class="author">â€” {{ author }}</div>
    <form method="get">
      <button type="submit">New Quote</button>
    </form>
    <button id="toggle-theme">Toggle Dark Mode</button>
  </div>

  <script>
    const container = document.getElementById('quote-container');
    const toggleBtn = document.getElementById('toggle-theme');

    // 3D rotate effect on mouse move yikkkkkkessss
    container.addEventListener('mousemove', e => {
      const rect = container.getBoundingClientRect();
      const x = e.clientX - rect.left - rect.width / 2;
      const y = e.clientY - rect.top - rect.height / 2;
      const rotateX = (-y / rect.height) * 10;
      const rotateY = (x / rect.width) * 10;
      container.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });

    container.addEventListener('mouseleave', () => {
      container.style.transform = `rotateX(0deg) rotateY(0deg)`;
    });

    // Dark mode toggle logic yooooooohooooo
    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      if (document.body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
    });

    // Load saved theme on page load hihihihi
    window.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
    });
  </script>
</body>
</html>
